<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../../img/favicon.ico">
        <title>PWM Expansion Python Module - Random Wire!</title>
        <link href="../../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../../../..">Random Wire!</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../../../..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../../blink/blink/">Blink</a>
</li>
                                    
<li >
    <a href="../../../../document/">Document Projects</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HiCat Livera Docs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../livera/">Documentation</a>
</li>
            
<li >
    <a href="../../../../livera/api/">API Guide</a>
</li>
            
<li >
    <a href="../../../../livera/robotAssemGuide/">Robot Assembily Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Raspberry PI</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../RaspberryPi/1.54inTFTGameScreen/tutorial/">1.54" TFT Touch Screen</a>
</li>
            
<li >
    <a href="../../../../RaspberryPi/OpenCV/opencv/">Raspberry PI Zero W OpenCV</a>
</li>
            
<li >
    <a href="../../../../RaspberryPi/restrictedshell/">Restricted Shell</a>
</li>
            
<li >
    <a href="../../../../RaspberryPi/jupyter/">Setup Jupyter Notebook</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">FPGA Boards</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../ArduinoMKRVidor4000_fpga_board/">Arduino MKR Vidor 4000</a>
</li>
            
<li >
    <a href="../../../../mojov3fpga/">Mojo V3 FPGA</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../TI/resources/">TI Launchpad Resources</a>
</li>
                                    
<li >
    <a href="../../../../ESP-MESH/ESP-MESH/">ESP-MESH Board</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MQTT Services</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../MQTT-Services/brokers/">Brokers</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Tessel</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../Tessel/readme/">Resources</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../syncthing/">Syncthing</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Cozmo SDK</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../CozmoSDKDocs/CozmoInfo/">Cozmo Information</a>
</li>
            
<li >
    <a href="../../../../CozmoSDKDocs/SDK/adb/">ADB</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Sipeed Maix Bit</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../SipeedMaixBit/info/">General Information</a>
</li>
            
<li >
    <a href="../../../../SipeedMaixBit/M5StickV/">M5StickV</a>
</li>
            
<li >
    <a href="../../../../SipeedMaixBit/Sipeed_Maixduino/">Sipeed Maixduino</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../azuresphere/">Azure Sphere General Information</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Arduino</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/arduino/chatterbot/">Chatter Bot</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-4x4-keypad-matrix-rotary-encoder/">4x4 Keypad Matrix</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-arduino-vga-out/">Arduino VGA</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-bmp180-digital-barometric-pressur/">BMP180 Sensor</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-fs1000a-433mhz-transmitters/">FS1000a 433mhz Transmitters</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-hc-05-bluetooth-device/">HC-05 Bluetooth</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-magnetic-reed-switch-water-sensor/">Magnetic Reed Switch Water Sensor</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-mifare-rfid-reader-rc522/">Mifare RFID reader RC522</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-nokia-5110-lcd/">Nokia 5110 LCD</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-pin-control-over-ethernet-oled-de/">Pin Control over Ethernet w/OLED</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-skynet-im/">Skynet IM</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-the-spo-512-speech-synthesizer/">SPO-512 Speech Synthesizer</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/QVGA-DISPLAY/QVGA-Display2/">QVGA Display</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">ESP8266</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/esp8266/">Temp</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">ESP32</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/esp32/">Temp</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">TI LaunchPad</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/TILaunchPad/ti-multi-task/">TI Launchpad MS432 Multi-Task Demo</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Raspberry PI</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/RaspberryPI/services/">General Information</a>
</li>
            
<li >
    <a href="../../../../../projects/RaspberryPI/">PIDuino Setup</a>
</li>
            
<li >
    <a href="../../../../../projects/RaspberryPI/tunnelservices/">Raspberry PI Tunnel Services</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Other Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/other/project-hot-wheels-10-525ghz-radar-gun/">Hot Wheels 10.524Ghz Radar Gun</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Robot Projects <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Robot Chassis Kits</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/chassis-kits/Actobotics/">Actobotics</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Hero Jr Robot</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/herojr/">Hero Jr Project</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Hero Jr Star Wars Day Dec 2015</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/">General Info</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/Demo/">Midpointe Library Dec 12 Demo</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/Outline_Script_for_Star_Wars_Day_Hero_Jr/">Outline of Program</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/Star_Wars_Hero_Jr_Punch_List/">Punch List</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/pictures_from_Star_Wars_Day/">Pictures</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">2W & 4W Robots</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../robots/robotstart/">Getting Started</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/L298MotorDrive/">L298 Motor Driver</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/BittyBot/">BittyBot</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/BittyBot2Library/">BittyBot 2</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/CompactRoverLibrary/">Compact Rover</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">SunFounder Robots</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/SunFounder_PISmartCar/">PISmartCar</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../projects/robot/RobotNavigationusingRFID/">Robot Indoor Navigation using RFID</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Anki Vector</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/Vector_Commands/">Command List</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../projects/InternetControlledRobots/">Internet Controlled Robots</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Other Robot Projects (Not Mine)</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/anki_vector_cozmo/">Anki Vector and Cozmo</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/Karotz/">Karotz</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ham Radio <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">APRS</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/aprs/">APRS Info</a>
</li>
            
<li >
    <a href="../../../../../hamradio/more_APRS/">More</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../hamradio/bandplan/">Band Plan</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/dapnet/">Dapnet (Amatuer Pager)</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">DMR</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/dmr/">Information</a>
</li>
            
<li >
    <a href="../../../../../hamradio/dmrnets/">Nets</a>
</li>
            
<li >
    <a href="../../../../../hamradio/dmrsms/">Send SMS</a>
</li>
            
<li >
    <a href="../../../../../hamradio/k4usd_network/">K4USD Network Information</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../hamradio/digitalinformation/">Digital Information</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Raspberry Pi Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/hamvoip/">Allstar Link</a>
</li>
            
<li >
    <a href="../../../../../hamradio/hamclock/">Hamclock</a>
</li>
            
<li >
    <a href="../../../../../hamradio/raspberryPi/">Ham Server</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MMDVM Hotspot</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/hotspot/">Setup</a>
</li>
            
<li >
    <a href="../../../../../hamradio/hotspothardware/">Hardware</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../hamradio/arduino/">Arduino Shields</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Aredn Broadband Hamnet</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/aredn_broadband_hamnet/">AREDN Info</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../hamradio/atv/">Amatuer TV</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/QSL/">Virtual QSL cards</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/ham/">What do amatuer modes sound like</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/NCPacket/">North Carolina Packet</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/new_packet_radio/">New Packet Radio</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/contacts/">Contacts</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/homeQTH/">Home QTH Information</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/gmrs/">GMRS Live feeds</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/shtfradio/">SHTF Radio Info</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/offgridcommunication/">Off Grid Communication Devices</a>
</li>
                                    
<li >
    <a href="../../../../../hamradio/peanut/">Peanut APP</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">LoRa (LoRaHam/LoRaAPS)</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/lora_radio/">Projects</a>
</li>
            
<li >
    <a href="../../../../../hamradio/moreLoRa/">More Projects</a>
</li>
            
<li >
    <a href="../../../../../hamradio/lorameshinfo/">Mesh Projects</a>
</li>
            
<li >
    <a href="../../../../../hamradio/lora_ideas/">General</a>
</li>
            
<li >
    <a href="../../../../../hamradio/LoRaHam/">LoRaHam/LoraMador/LoraAPS</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../hamradio/wxinfo/">WX Stuff</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Other</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../hamradio/trisquare/">Trisquare Radios</a>
</li>
            
<li >
    <a href="../../../../../hamradio/weirdmessengers/">Weird Messengers</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Other <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../../../comingsoon/">Sherlock Holmes</a>
</li>
                                    
<li >
    <a href="../../../../../other/pp/">Pen and Paper RPG & Heroclix Games</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Movies/TV Shows & OTR</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../comingsoon/">X Minus One</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">The Orville</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../other/theorville/comics/">Comics</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Planetary Union Central</a>
</li>
            
<li >
    <a href="../../../../../other/theorville/wiki/">Fan Wiki</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../../../../comingsoon/">Forbidden Planet (C-57D)</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Batman (1966)</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Green Hornet</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../other/greenhornet/greenhornet/">Info</a>
</li>
            
<li >
    <a href="../../../../../other/greenhornet/familytree/">Family Tree</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">DC Comics</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../comingsoon/">Comics</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">TV Shows</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../comingsoon/">The Flash</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Arrow</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Supergirl</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Legends of Tomorrow</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Batwoman</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Constantine</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../../../../comingsoon/">Movies</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Egyptian Gods</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../comingsoon/">Lord of the Rings</a>
</li>
                                    
<li >
    <a href="../../../../../other/pythagoras/">Pythagoras</a>
</li>
                                    
<li >
    <a href="../../../../../comingsoon/">Noris Mythology</a>
</li>
                                    
<li >
    <a href="../../../../../other/greek/">Greek Mythology</a>
</li>
                                    
<li >
    <a href="../../../../../comingsoon/">My Cars</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">More Stuff</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../other/stuff/">Stuff</a>
</li>
            
<li >
    <a href="../../../../../other/books/">Free eBooks</a>
</li>
            
<li >
    <a href="../../../../../other/CPU_Cryptocurrancy/">Crptocurrancy</a>
</li>
            
<li >
    <a href="../../../../../other/InteractiveFiction/">Interactive Fiction</a>
</li>
            
<li >
    <a href="../../../../../other/surplusstore/">Electronics Surplus</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../../../about/">About Me</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#pwm-expansion-python-module">PWM Expansion Python Module</a></li>
        <li class="main "><a href="#programming-flow">Programming Flow</a></li>
            <li><a href="#channels">Channels</a></li>
        <li class="main "><a href="#pwm-signal-refresher">PWM Signal Refresher</a></li>
        <li class="main "><a href="#the-python-module">The Python Module</a></li>
            <li><a href="#source-code">Source Code</a></li>
            <li><a href="#using-the-python-module">Using the Python Module</a></li>
            <li><a href="#example-code">Example Code</a></li>
            <li><a href="#return-values">Return Values</a></li>
            <li><a href="#functions">Functions</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="pwm-expansion-python-module">PWM Expansion Python Module</h1>
<p>The Onion PWM Expansion Python module, <code>pwmExp</code> is based on the <a href="./PWM-Expansion-C-Library">C PWM Expansion Library</a>. Using this module, you will be able to control the PWM Expansion from within your Python program. </p>
<p><img alt="PWM Expansion Photo" src="http://i.imgur.com/aNoYCZc.png" /></p>
<p>[[<em>TOC</em>]]</p>
<h1 id="programming-flow">Programming Flow</h1>
<p>After each power-cycle, the chip that controls the PWM Expansion must be programmed with an initialization sequence to enable the on-board oscillator so that PWM signals can be generated. </p>
<p>After the initialization, the other functions can be used to generate PWM signals on specific channels or to change the PWM signal frequency.</p>
<p>Additionally, it is possible to disable to the oscillator, disabling the generation of all PWM signals at once. Before generating new PWM signals, the initialization sequence must be run again.</p>
<h2 id="channels">Channels</h2>
<p>The PWM Expansion has 16 channels that can generate distinct PWM signals. Note that they will all be running on the same frequency.</p>
<h1 id="pwm-signal-refresher">PWM Signal Refresher</h1>
<p>Pulse Width Modulated signals can be described with duty cycle percentages and frequencies/periods:</p>
<p><img alt="Duty Cycle Graph" src="http://www.bristolwatch.com/picaxe/images/io43.gif" /></p>
<p>The <strong>duty cycle</strong> indicates what percentage of time a signal is on or high voltage.</p>
<p>The <strong>frequency</strong> determines the overall period of the pulse.</p>
<p>For a more detailed explanation, see the guide on <a href="../../Tutorials/Expansions/Using-the-Servo-Expansion#pwm-signals">using the Servo Expansion.</a></p>
<h1 id="the-python-module">The Python Module</h1>
<p>The <code>pwmExp</code> Python module in the <code>OmegaExpansion</code> package provides a wrapper around the C library functions. The functions are largely the same as their C counterparts, including the arguments and return values. Any differences from the C library will be explicitly mentioned below. </p>
<h2 id="source-code">Source Code</h2>
<p>The source code can be found in the <a href="https://github.com/OnionIoT/i2c-exp-driver">Onion <code>i2c-exp-driver</code> GitHub Repo</a>.</p>
<h2 id="using-the-python-module">Using the Python Module</h2>
<p><strong>Installing the Module</strong></p>
<p>To install the Python module, run the following commands:</p>
<pre><code>opkg update
opkg install python-light pyPwmExp
</code></pre>

<p>This will install the module to <code>/usr/lib/python2.7/OmegaExpansion/</code></p>
<p><em>Note: this only has to be done once.</em></p>
<p><strong>Using the Module</strong></p>
<p>To add the Onion PWM Expansion Module to your Python program, include the following in your code:</p>
<pre><code class="python">from OmegaExpansion import pwmExp
</code></pre>

<h2 id="example-code">Example Code</h2>
<p>Example code that uses the <code>pwmExp</code> module can be <a href="https://github.com/OnionIoT/i2c-exp-driver/blob/master/examples/pwm-exp.py">found here</a>, in the <code>i2c-exp-driver</code> Onion GitHub Repo.</p>
<h2 id="return-values">Return Values</h2>
<p>All functions follow the same pattern with return values:</p>
<p>If the function operation is successful, the return value will be <code>0</code>.</p>
<p>If the function operation is not successful, the function will return <code>1</code>. </p>
<h2 id="functions">Functions</h2>
<p>Each of the main functions implemented in this module are described below.</p>
<h3 id="initialization-function">Initialization Function</h3>
<p>This function programs the initialization sequence on the Servo Expansion, after this step is completed, the functions to generate PWM signals or change the signal frequency can be used with success:</p>
<pre><code class="python">pwmExp.driverInit()
</code></pre>

<p><strong>Examples</strong></p>
<p>Initialize the PWM Expansion:</p>
<pre><code class="c">status  = pwmExp.driverInit();
</code></pre>

<h3 id="check-for-initialization">Check for Initialization</h3>
<p>This function performs several reads to determine if the Servo Expansion has been initialized and the oscillator is running:</p>
<pre><code class="python">pwmExp.checkInit()
</code></pre>

<p>The <strong>return value</strong> of the function indicates the Initialization Status:</p>
<table>
<thead>
<tr>
<th>Return Value</th>
<th>Initialization Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Not Initialized</td>
</tr>
<tr>
<td>1</td>
<td>Initialized</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Check if the PWM Expansion is initialized:</p>
<pre><code class="python">bInit   = pwmExp.checkInit()

if (bInit == 0):
    print 'The Servo Expansion needs to be initialized\n'
else:
    print 'The Servo Expansion is up and running!'
}
</code></pre>

<h3 id="generate-a-pwm-signal">Generate a PWM Signal</h3>
<p>This function is used to generate a PWM singal on a specified channel:</p>
<pre><code class="python">pwmExp.setupDriver(channel, duty, delay)
</code></pre>

<p><strong>Arguments</strong></p>
<p>The <code>channel</code> argument determines on which channel to generate the PWM signal. 
* 0 to 15 will select a specific channel
* -1 will generate the same signal on all channels</p>
<p>The <code>duty</code> argument specifies duty cycle percentage for the PWM signal. Accepted values are <strong>0 to 100</strong>. Decimal values are allowed.</p>
<p>The <code>delay</code> argument specifies the percentage delay before the PWM signal goes high. Accepted values are <strong>0 to 100</strong> with decimal values being allowed. <em>In normal use with servos this should be set to 0.</em></p>
<p><strong>Example</strong></p>
<p>Set channel 7 to 6.55% duty cycle:</p>
<pre><code class="python">status = pwmExp.setupDriver(7, 6.55, 0)
</code></pre>

<p>Set channel 14 to always on:</p>
<pre><code class="python">status = pwmExp.setupDriver(14, 100, 0)
</code></pre>

<p>Set all channels to 66.66% duty with a 9% delay:</p>
<pre><code class="python">status = pwmExp.setupDriver(-1, 66.66, 9)
</code></pre>

<h3 id="set-pwm-signal-frequency">Set PWM Signal Frequency</h3>
<p>The oscillator can be reprogrammed to generate a variety of different frequencies:</p>
<pre><code class="python">pwmExp.setFrequency(frequency)
</code></pre>

<p>This will change the frequency of the PWM signals generated on all of the channels.
The oscillator can generate frequencies between <strong>24 Hz and 1526 Hz,</strong> the default value is <strong>50 Hz.</strong></p>
<p><strong>Arguments</strong></p>
<p>The <code>freq</code> argument is a floating point number that specifies the frequency. The function will accept any input but the programmed frequency will be clamped between 24 Hz and 1526 Hz.</p>
<p><strong>Example</strong></p>
<p>Change the frequency to 60 Hz:</p>
<pre><code class="python">status = pwmExp.setFrequency(60)
</code></pre>

<p>Change the frequency to 92.23 Hz:</p>
<pre><code class="python">status = pwmExp.setFrequency(92.23)
</code></pre>

<h3 id="disabling-the-oscillator">Disabling the Oscillator</h3>
<p>The oscillator can also be disabled, automatically stopping all PWM signal generation:</p>
<pre><code class="python">pwmExp.disableChip()
</code></pre>

<p>This might be useful for disabling PWM signal-driven devices while not powering off the Omega.
<strong>The initialization function will have to be run before new PWM signals can be generated.</strong></p>
<p><strong>Example</strong></p>
<p>Disable the oscillator:</p>
<pre><code class="python">status  = pwmExp.disableChip()
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../../../js/base.js" defer></script>
        <script src="../../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
