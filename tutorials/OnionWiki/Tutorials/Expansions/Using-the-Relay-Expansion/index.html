<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../../img/favicon.ico">
        <title>Using the Relay Expansion - Random Wire!</title>
        <link href="../../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../../../..">Random Wire!</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../../../../..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../../blink/blink/">Blink</a>
</li>
                                    
<li >
    <a href="../../../../document/">Document Projects</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">HiCat Livera Docs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../livera/">Documentation</a>
</li>
            
<li >
    <a href="../../../../livera/api/">API Guide</a>
</li>
            
<li >
    <a href="../../../../livera/robotAssemGuide/">Robot Assembily Guide</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Raspberry PI</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../RaspberryPi/1.54inTFTGameScreen/tutorial/">1.54" TFT Touch Screen</a>
</li>
            
<li >
    <a href="../../../../RaspberryPi/OpenCV/opencv/">Raspberry PI Zero W OpenCV</a>
</li>
            
<li >
    <a href="../../../../RaspberryPi/restrictedshell/">Restricted Shell</a>
</li>
            
<li >
    <a href="../../../../RaspberryPi/jupyter/">Setup Jupyter Notebook</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">FPGA Boards</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../ArduinoMKRVidor4000_fpga_board/">Arduino MKR Vidor 4000</a>
</li>
            
<li >
    <a href="../../../../mojov3fpga/">Mojo V3 FPGA</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../TI/resources/">TI Launchpad Resources</a>
</li>
                                    
<li >
    <a href="../../../../ESP-MESH/ESP-MESH/">ESP-MESH Board</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">MQTT Services</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../MQTT-Services/brokers/">Brokers</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Tessel</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../Tessel/readme/">Resources</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../syncthing/">Syncthing</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Cozmo SDK</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../CozmoSDKDocs/CozmoInfo/">Cozmo Information</a>
</li>
            
<li >
    <a href="../../../../CozmoSDKDocs/SDK/adb/">ADB</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Sipeed Maix Bit</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../SipeedMaixBit/info/">General Information</a>
</li>
            
<li >
    <a href="../../../../SipeedMaixBit/M5StickV/">M5StickV</a>
</li>
            
<li >
    <a href="../../../../SipeedMaixBit/Sipeed_Maixduino/">Sipeed Maixduino</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../azuresphere/">Azure Sphere General Information</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Arduino</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/arduino/chatterbot/">Chatter Bot</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-4x4-keypad-matrix-rotary-encoder/">4x4 Keypad Matrix</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-arduino-vga-out/">Arduino VGA</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-bmp180-digital-barometric-pressur/">BMP180 Sensor</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-fs1000a-433mhz-transmitters/">FS1000a 433mhz Transmitters</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-hc-05-bluetooth-device/">HC-05 Bluetooth</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-magnetic-reed-switch-water-sensor/">Magnetic Reed Switch Water Sensor</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-mifare-rfid-reader-rc522/">Mifare RFID reader RC522</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-nokia-5110-lcd/">Nokia 5110 LCD</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-pin-control-over-ethernet-oled-de/">Pin Control over Ethernet w/OLED</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-skynet-im/">Skynet IM</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/arduino-project-the-spo-512-speech-synthesizer/">SPO-512 Speech Synthesizer</a>
</li>
            
<li >
    <a href="../../../../../projects/arduino/QVGA-DISPLAY/QVGA-Display2/">QVGA Display</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">ESP8266</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/esp8266/">Temp</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">ESP32</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/esp32/">Temp</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">TI LaunchPad</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/TILaunchPad/ti-multi-task/">TI Launchpad MS432 Multi-Task Demo</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Raspberry PI</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/RaspberryPI/services/">General Information</a>
</li>
            
<li >
    <a href="../../../../../projects/RaspberryPI/">PIDuino Setup</a>
</li>
            
<li >
    <a href="../../../../../projects/RaspberryPI/tunnelservices/">Raspberry PI Tunnel Services</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Other Projects</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/other/project-hot-wheels-10-525ghz-radar-gun/">Hot Wheels 10.524Ghz Radar Gun</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Robot Projects <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Robot Chassis Kits</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/chassis-kits/Actobotics/">Actobotics</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Hero Jr Robot</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/herojr/">Hero Jr Project</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Hero Jr Star Wars Day Dec 2015</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/">General Info</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/Demo/">Midpointe Library Dec 12 Demo</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/Outline_Script_for_Star_Wars_Day_Hero_Jr/">Outline of Program</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/Star_Wars_Hero_Jr_Punch_List/">Punch List</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/HeroJr-StarWarsDay/pictures_from_Star_Wars_Day/">Pictures</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">2W & 4W Robots</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../robots/robotstart/">Getting Started</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/L298MotorDrive/">L298 Motor Driver</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/BittyBot/">BittyBot</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/BittyBot2Library/">BittyBot 2</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/CompactRoverLibrary/">Compact Rover</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">SunFounder Robots</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/SunFounder_PISmartCar/">PISmartCar</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../projects/robot/RobotNavigationusingRFID/">Robot Indoor Navigation using RFID</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Anki Vector</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/Vector_Commands/">Command List</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../projects/InternetControlledRobots/">Internet Controlled Robots</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Other Robot Projects (Not Mine)</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../projects/robot/anki_vector_cozmo/">Anki Vector and Cozmo</a>
</li>
            
<li >
    <a href="../../../../../projects/robot/Karotz/">Karotz</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ham Radio <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../../../hamradio/hotspot/">MMDVM Hotspot Info</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Other <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../../../comingsoon/">Sherlock Holmes</a>
</li>
                                    
<li >
    <a href="../../../../../other/pp/">Pen and Paper RPG & Heroclix Games</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Movies/TV Shows & OTR</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../comingsoon/">X Minus One</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">The Orville</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../other/theorville/comics/">Comics</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Planetary Union Central</a>
</li>
            
<li >
    <a href="../../../../../other/theorville/wiki/">Fan Wiki</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../../../../comingsoon/">Forbidden Planet (C-57D)</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Batman (1966)</a>
</li>
            
<li >
    <a href="../../../../../other/greenhornet/greenhornet/">Green Hornet</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">DC Comics</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../comingsoon/">Comics</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">TV Shows</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../comingsoon/">The Flash</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Arrow</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Supergirl</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Legends of Tomorrow</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Batwoman</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Constantine</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../../../../comingsoon/">Movies</a>
</li>
            
<li >
    <a href="../../../../../comingsoon/">Egyptian Gods</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../../../comingsoon/">Lord of the Rings</a>
</li>
                                    
<li >
    <a href="../../../../../comingsoon/">Noris Mythology</a>
</li>
                                    
<li >
    <a href="../../../../../other/greek/">Greek Mythology</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">More Stuff</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../other/stuff/">Stuff</a>
</li>
            
<li >
    <a href="../../../../../other/CPU_Cryptocurrancy/">Crptocurrancy</a>
</li>
            
<li >
    <a href="../../../../../other/InteractiveFiction/">Interactive Fiction</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../../../about/">About Me</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#using-the-relay-expansion">Using the Relay Expansion</a></li>
        <li class="main "><a href="#using-relays">Using Relays</a></li>
        <li class="main "><a href="#the-hardware">The Hardware</a></li>
            <li><a href="#the-dip-switches">The Dip-Switches</a></li>
        <li class="main "><a href="#using-the-command-line">Using the Command Line</a></li>
            <li><a href="#command-usage">Command Usage</a></li>
            <li><a href="#initialization">Initialization</a></li>
            <li><a href="#relay-channels">Relay Channels</a></li>
            <li><a href="#setting-a-relays-state">Setting a Relay's State</a></li>
            <li><a href="#controlling-both-relays-simultaneously">Controlling both Relays Simultaneously</a></li>
            <li><a href="#reading-a-relays-state">Reading a Relay's State</a></li>
        <li class="main "><a href="#using-multiple-relay-expansions-by-changing-the-dip-switch-settings">Using Multiple Relay Expansions by Changing the Dip-Switch Settings</a></li>
            <li><a href="#i2c-address-mapping">I2C Address Mapping</a></li>
            <li><a href="#using-the-i2c-address-directly">Using the I2C Address Directly</a></li>
        <li class="main "><a href="#using-the-libraries">Using the Libraries</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="using-the-relay-expansion">Using the Relay Expansion</h1>
<p>The Relay Expansion allows you to control two relay modules. Relays are basically electronically operated switches, enabling the Omega's low power circuits to control other, potentially high power circuits.</p>
<p>[[<em>TOC</em>]]</p>
<h1 id="using-relays">Using Relays</h1>
<p>Since relays are essentially switches, they can be used as switches in other circuits. </p>
<p>Consider this LED circuit:</p>
<p><img alt="LED Circuit Diagram" src="http://i.imgur.com/XjWmfh8.png" /></p>
<p>We can build this circuit without the switch:</p>
<p><img alt="LED Circuit" src="http://i.imgur.com/a0aH2lf.jpg" /></p>
<p>Next, we will add the Omega and Relay Expansion to act as the switch:</p>
<p><img alt="Omega + Relay Exp + LED circuit" src="http://i.imgur.com/i3VvWGu.jpg" /></p>
<p>The positive lead of the battery pack is connected to the port labelled <code>IN</code> on the Expansion. A jumper wire is connected from the <code>OUT</code> port back to the circuit. Since the Relay is OFF, the switch is off and no current is passing through the LED:</p>
<p><img alt="Relay Exp connection close-up" src="http://i.imgur.com/iPswHOC.jpg" /></p>
<p>When we turn the relay on, it acts as a closed switch, allowing current to flow through the LED:</p>
<p><img alt="Omega + Relay Exp + LED circuit on" src="http://i.imgur.com/hGa4uts.jpg" /></p>
<p>The Relay Expansion has two modules, so it is possible to control two different circuits with a single Relay Expansion.</p>
<h1 id="the-hardware">The Hardware</h1>
<p>The Relay Expansion has two TE Axicom IM03 relay modules. The table below outlines the specifications:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maximum Switching Voltage</td>
<td>220VDC, 250VAC</td>
</tr>
<tr>
<td>Current Rating</td>
<td>2A</td>
</tr>
<tr>
<td>Switching Power</td>
<td>60W, 62.5VA</td>
</tr>
<tr>
<td>Switching Time</td>
<td>Typical: 1ms Maximum: 3ms</td>
</tr>
</tbody>
</table>
<p>The full datasheet for the relay can be found <a href="http://www.te.com/commerce/DocumentDelivery/DDEController?Action=showdoc&amp;DocId=Specification+Or+Standard%7F108-98001%7FV%7Fpdf%7FEnglish%7FENG_SS_108-98001_V_IM_0614_v1.pdf%7F4-1462039-1">here</a>.</p>
<h2 id="the-dip-switches">The Dip-Switches</h2>
<p>The dip switches on the Relay Expansion control the I2C device address of the Expansion, enabling users to stack and control up to eight Relay Expansions with one Omega and Expansion dock.</p>
<p>The 'off' position for each switch is when the toggle is close to the numbers on the switch, or away from the relay modules.</p>
<p>The 'on' position is when the toggle is away from the numbers on the switch, or closer to the relay modules.</p>
<h1 id="using-the-command-line">Using the Command Line</h1>
<p><em>Make sure that your Omega has the latest firmware!</em></p>
<p>A tool we've developed called <code>relay-exp</code> will make controlling your relay expansion easy as pie.</p>
<p>Also available are a C library and a Python module that allow you to develop your own programs to control the Relay Expansion.</p>
<h2 id="command-usage">Command Usage</h2>
<p>For a print out of the command's usage, run it with just a <code>-h</code> argument:</p>
<pre><code>relay-exp -h
</code></pre>

<h2 id="initialization">Initialization</h2>
<p>After every power-cycle, the chip on the Relay Expansion must be initialized to correctly and safely control the Relay Modules. <strong>The driver application will automatically detect if initialization is required and perform the required sequence,</strong> so there is no need to run this command.</p>
<p>However, manually triggering the initialization is still available; run the following command:</p>
<pre><code>relay-exp -i
</code></pre>

<p>This can be run on it's own or in conjunction with any commands below.</p>
<p>By default, the relays will be OFF.</p>
<h2 id="relay-channels">Relay Channels</h2>
<p>The Expansion has two modules, this guide will refer to the relays as RELAY0 and RELAY1 or as a channel.</p>
<p>Refer to the following image to identify which channel refers to which relay:</p>
<p><img alt="Relay Expansion" src="//i.imgur.com/Wk6Z9lW.png" /></p>
<h2 id="setting-a-relays-state">Setting a Relay's State</h2>
<p>The tool allows you to program the relay's states like so:</p>
<pre><code>relay-exp &lt;channel&gt; &lt;state&gt;
</code></pre>

<p>The channel argument should be either 0 or 1 for RELAY0 and RELAY1 respectively.</p>
<p>The state argument should be 0 or off for turning the relay OFF, or 1 or on for turning the relay ON</p>
<p>When the relay is OFF, it will act as an open switch, so any circuit connected to it will not be closed and will therefore be powered down. When it is ON, it is essentially a closed switch, so connected circuits will be powered on.</p>
<p><strong>A few examples...</strong></p>
<p>To initialize the chip and enable relay1:</p>
<pre><code>relay-exp -i 1 1
</code></pre>

<p>To disable relay1:</p>
<pre><code>relay-exp 1 0
</code></pre>

<p>To turn on relay 0:</p>
<pre><code>relay-exp 0 on
</code></pre>

<h2 id="controlling-both-relays-simultaneously">Controlling both Relays Simultaneously</h2>
<p>You are also able to control both relays in a single command:</p>
<pre><code>relay-exp all &lt;state&gt;
</code></pre>

<p>As above, the state argument should be 0 or off to turn the relay OFF, or 1 or on to turn the relay ON, the only difference is that it will now affect both relays.</p>
<p><strong>Some Examples:</strong></p>
<p>Initializing the chip and turning both relays ON:</p>
<pre><code>relay-exp -i all 1
</code></pre>

<p>Turning both relays OFF:</p>
<pre><code>relay-exp all off
</code></pre>

<h2 id="reading-a-relays-state">Reading a Relay's State</h2>
<p>The tool also allows you to check the current state of the relay:</p>
<pre><code>relay-exp read &lt;channel&gt;
</code></pre>

<p>The channel argument should be either 0 or 1 for RELAY0 and RELAY1 respectively.</p>
<p>The output of the program will indicate if the relay is ON or OFF.</p>
<p><strong>A few examples...</strong></p>
<p>To read the state of relay0:</p>
<pre><code>root@Omega-1302:~# relay-exp read 0
&gt; Reading RELAY0 state: ON
</code></pre>

<p>To read the state of relay1:</p>
<pre><code>root@Omega-1302:~# relay-exp read 1
&gt; Reading RELAY1 state: OFF
</code></pre>

<h1 id="using-multiple-relay-expansions-by-changing-the-dip-switch-settings">Using Multiple Relay Expansions by Changing the Dip-Switch Settings</h1>
<p>The dip-switches specify the I2C address the chip on the Relax Expansion declares as it's device address. A single Omega and Expansion Dock can control up to eight Relay Expansions if they all have different dip-switch configurations.</p>
<p>The relay-exp tool will need to know if the switch configuration has changed when programming the expansion:</p>
<pre><code>relay-exp -s &lt;bbb&gt; &lt;channel&gt; &lt;state&gt;
</code></pre>

<p>Where <code>&lt;bbb&gt;</code> is a binary number representing the position of each switch. </p>
<p>If the switch is 'off', it can be represented with a 0; if the switch is 'on', it can be represented with a 1.</p>
<p>The order is: Switch 1 value, Switch 2 value, Switch 3 value.</p>
<p>Follow this table:</p>
<table>
<thead>
<tr>
<th>Switch 1</th>
<th>Switch 2</th>
<th>Switch 3</th>
<th>Binary Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>OFF</td>
<td>OFF</td>
<td>OFF</td>
<td><em>000</em></td>
</tr>
<tr>
<td>OFF</td>
<td>OFF</td>
<td>ON</td>
<td><em>001</em></td>
</tr>
<tr>
<td>OFF</td>
<td>ON</td>
<td>OFF</td>
<td><em>010</em></td>
</tr>
<tr>
<td>OFF</td>
<td>ON</td>
<td>ON</td>
<td><em>011</em></td>
</tr>
<tr>
<td>ON</td>
<td>OFF</td>
<td>OFF</td>
<td><em>100</em></td>
</tr>
<tr>
<td>ON</td>
<td>OFF</td>
<td>ON</td>
<td><em>101</em></td>
</tr>
<tr>
<td>ON</td>
<td>ON</td>
<td>OFF</td>
<td><em>110</em></td>
</tr>
<tr>
<td>ON</td>
<td>ON</td>
<td>ON</td>
<td><em>111</em></td>
</tr>
</tbody>
</table>
<p>If all of the switches are off (000), the switch setting does not need to be specified and the command can be used as normal:</p>
<pre><code>relay-exp &lt;channel&gt; &lt;state&gt;
</code></pre>

<p><strong>Some Examples:</strong></p>
<p>The switches are set to on-off-on, setting RELAY0 to on:</p>
<pre><code>relay-exp -s 101 0 on
</code></pre>

<p>The switches are set to on-on-on, setting RELAY1 to off:</p>
<pre><code>relay-exp -s 111 1 0
</code></pre>

<p>The switches are set to off-off-on, setting BOTH relays to on</p>
<pre><code>relay-exp -s 001 all 1
</code></pre>

<p>The switches are set to off-off-off, setting both relays to off</p>
<pre><code>relay-exp all off
</code></pre>

<h2 id="i2c-address-mapping">I2C Address Mapping</h2>
<p>If you're curious about how the dip-switch settings affect the I2C device address of the Relay Expansion, then this table is for you:</p>
<table>
<thead>
<tr>
<th>I2C Device Address</th>
<th>Switch Binary Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x27</td>
<td>000</td>
</tr>
<tr>
<td>0x26</td>
<td>100</td>
</tr>
<tr>
<td>0x25</td>
<td>010</td>
</tr>
<tr>
<td>0x24</td>
<td>110</td>
</tr>
<tr>
<td>0x23</td>
<td>001</td>
</tr>
<tr>
<td>0x22</td>
<td>101</td>
</tr>
<tr>
<td>0x21</td>
<td>011</td>
</tr>
<tr>
<td>0x20</td>
<td>111</td>
</tr>
</tbody>
</table>
<h2 id="using-the-i2c-address-directly">Using the I2C Address Directly</h2>
<p>If you don't like dealing with the switch positions and would rather use the I2C device address directly, this option is for you:</p>
<pre><code>relay-exp -a &lt;addr&gt; &lt;channel&gt; &lt;state&gt;
</code></pre>

<p>Where <code>&lt;addr&gt;</code> is the I2C device address. It can be entered with or without the leading <code>0x</code>, so <code>0x27</code> or <code>27</code> will both work.</p>
<p><strong>Some Examples:</strong></p>
<p>For a device address of 0x23, set RELAY0 to on:</p>
<pre><code>relay-exp -a 0x23 0 on
</code></pre>

<p>For a device address of 0x26, set RELAY1 to off:</p>
<pre><code>relay-exp -a 26 1 0
</code></pre>

<p>For a device address of 0x24, set BOTH relays to on</p>
<pre><code>relay-exp -a 0x24 all 1
</code></pre>

<h1 id="using-the-libraries">Using the Libraries</h1>
<p>The C library and Python module will allow you to control the Relay Expansion with your own programs.</p>
<p>For more information, see <a href="../../Documentation/Libraries/Relay-Expansion-C-Library">this guide</a>.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../../../js/base.js" defer></script>
        <script src="../../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
